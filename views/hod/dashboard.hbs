<section class="container mt-5">
  <h1 class="h2 text-center mb-5 text-uppercase fw-bold text-primary">Admin Dashboard</h1>

  <!-- Dashboard Overview Cards -->
  <div class="row text-center g-4">
    <div class="col-md-4">
      <div class="card border-0 shadow-sm" style="background: linear-gradient(135deg, #42a5f5, #1e88e5); color: #fff;">
        <div class="card-body">
          <h5 class="mb-3">Total Students</h5>
          <p class="display-4 fw-bold">300</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-0 shadow-sm" style="background: linear-gradient(135deg, #66bb6a, #43a047); color: #fff;">
        <div class="card-body">
          <h5 class="mb-3">Total Faculty</h5>
          <p class="display-4 fw-bold">10</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-0 shadow-sm" style="background: linear-gradient(135deg, #ffa726, #fb8c00); color: #fff;">
        <div class="card-body">
          <h5 class="mb-3">1st, 2nd, 3rd Year Students</h5>
          <p class="display-6 fw-bold">120 | 100 | 80</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Row for Graphs -->
  <div class="row mt-5 g-4">
    <div class="col-md-4">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Total Students Over Time</div>
        <div class="card-body">
          <canvas id="studentsChart"></canvas>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Total Students by Gender</div>
        <div class="card-body">
          <canvas id="genderChart"></canvas>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Department Students (Year-wise)</div>
        <div class="card-body">
          <canvas id="departmentChart"></canvas>
        </div>
      </div>
    </div>
  </div>
{{!-- 
  <!-- Event Calendar and Notice Board -->
  <div class="row mt-5 g-4">
    <div class="col-md-6">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Event Calendar</div>
        <div class="card-body">
          <div id="calendar"></div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Notice Board</div>
        <div class="card-body">
          <ul class="list-group list-group-flush">
            <li class="list-group-item">Holiday: New Year's Eve - Dec 31</li>
            <li class="list-group-item">Faculty Meeting - Dec 30</li>
            <li class="list-group-item">Math Exam - Dec 28</li>
            <li class="list-group-item">Physics Lab Submission - Jan 2</li>
          </ul>
        </div>
      </div>
    </div>
  </div> --}}

  <!-- Approved Students Table -->
  <div class="row mt-5">
    <div class="col-md-12">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Approved Students</div>
        <div class="card-body">
          <table class="table table-hover">
            <thead class="table-dark">
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Course</th>
                <th>Year</th>
              </tr>
            </thead>
            <tbody>
              {{#each students}}
              <tr>
                <td>{{increment @index}}</td>
                <td>{{this.name}}</td>
                <td>{{this.course}}</td>
                <td>{{this.year}}</td>
              </tr>
              {{/each}}

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Approved Teachers Table -->
  <div class="row mt-5">
    <div class="col-md-12">
      <div class="card border-0 shadow-sm">
        <div class="card-header text-white" style="background: #3949ab;">Approved Teachers</div>
        <div class="card-body">
          <table class="table table-hover">
            <thead class="table-dark">
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Subject</th>
                <th>Class teacher</th>
              </tr>
            </thead>
            <tbody>
              {{#each teachers}}
              <tr>
                <td>{{increment @index}}</td>
                <td>{{this.name}}</td>
                <td>{{this.subjects}}</td>
                <td>{{this.class_teacher}}</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Include FullCalendar CSS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@3.10.2/dist/fullcalendar.min.css" rel="stylesheet" />

<!-- Include Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Include FullCalendar JS -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@3.10.2/dist/fullcalendar.min.js"></script>

<script>
  // Ensure the document is fully loaded before running the script
  document.addEventListener("DOMContentLoaded", function () {

    // Line Chart: Total Students Over Time
    const studentsCtx = document.getElementById("studentsChart").getContext("2d");
    new Chart(studentsCtx, {
      type: "line",
      data: {
        labels: ["January", "February", "March", "April", "May", "June"],
        datasets: [
          {
            label: "Total Students",
            data: [200, 220, 240, 260, 280, 300],
            borderColor: "rgba(54, 162, 235, 1)",
            backgroundColor: "rgba(54, 162, 235, 0.2)",
            borderWidth: 2,
            fill: true,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: "top",
          },
        },
      },
    });

    // Doughnut Chart: Total Students by Gender
    const genderCtx = document.getElementById("genderChart").getContext("2d");
    new Chart(genderCtx, {
      type: "doughnut",
      data: {
        labels: ["Male", "Female"],
        datasets: [
          {
            data: [160, 140],
            backgroundColor: ["#4caf50", "#f44336"],
            hoverOffset: 4,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: "top",
          },
        },
      },
    });

    // Bar Chart: Department Students (Year-wise)
    const departmentCtx = document.getElementById("departmentChart").getContext("2d");
    new Chart(departmentCtx, {
      type: "bar",
      data: {
        labels: ["1st Year", "2nd Year", "3rd Year"],
        datasets: [
          {
            label: "Students",
            data: [120, 100, 80],
            backgroundColor: ["#ff9800", "#673ab7", "#03a9f4"],
            borderWidth: 1,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: "top",
          },
        },
      },
    });

    // FullCalendar: Event Calendar
    const calendarEl = document.getElementById("calendar");
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: "dayGridMonth",
      height: 350,
      events: [
        { title: "Math Exam", start: "2024-12-28" },
        { title: "Holiday", start: "2024-12-31", end: "2025-01-01" },
        { title: "Faculty Meeting", start: "2024-12-30" },
      ],
    });
    calendar.render();
  });
</script>